<style>
    /* 样式定义 */
    .popup {
        display: none;
        position: fixed;
        left: 50%;
        top: 50%;
        transform: translate(-50%, -50%);
        padding: 20px;
        background-color: white;
        box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        z-index: 1000;
    }
    .popup .close {
        display: block;
        text-align: right;
        cursor: pointer;
    }
    #overlay {
        display: none;
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 999;
    }

    /* Conference标题和控制按钮的容器 */
    .conference-header {
        display: flex;
        justify-content: space-between;
        align-items: baseline;
        margin: 60px 0 20px 0;
    }

    .conference-title {
        margin: 0;
        font-size: 157%;
        color: #002D72;
        font-weight: 500;
        transition: all 0.3s ease;
        position: relative;
    }

    .conference-title::after {
        content: '';
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, #002D72, #0056b3);
        transition: width 0.3s ease;
    }

    .conference-title:hover::after {
        width: 50px;
    }

    .conference-title:hover {
        color: #0056b3;
    }

    /* Project标题样式 */
    .project-title {
        margin: 60px 0 20px 0;
        font-size: 157%;
        color: #002D72;
        font-weight: 500;
        transition: all 0.3s ease;
        position: relative;
    }

    .project-title::after {
        content: '';
        position: absolute;
        bottom: -5px;
        left: 0;
        width: 0;
        height: 2px;
        background: linear-gradient(90deg, #002D72, #0056b3);
        transition: width 0.3s ease;
    }

    .project-title:hover::after {
        width: 50px;
    }

    .project-title:hover {
        color: #0056b3;
    }

    .toggle-btn {
        padding: 8px 20px;
        border: 2px solid #002D72;
        background: transparent;
        color: #002D72;
        border-radius: 25px;
        cursor: pointer;
        font-size: 14px;
        font-family: 'Libertinus Sans', sans-serif;
        font-weight: 500;
        transition: all 0.3s ease;
        text-decoration: none;
        display: inline-block;
        min-width: 120px;
        text-align: center;
        flex-shrink: 0;
    }

    .toggle-btn:hover {
        background: #002D72;
        color: white;
        transform: translateY(-1px);
        box-shadow: 0 4px 12px rgba(0, 45, 114, 0.3);
    }

    .toggle-btn.selected-mode {
        background: #002D72;
        color: white;
    }

    /* 统一项目间距 */
    .conference-item, .project-item {
        margin-bottom: 30px;
        transition: all 0.3s ease;
    }

    .conference-item.hidden {
        display: none !important;
        margin: 0 !important;
        padding: 0 !important;
    }

    /* 默认隐藏非selected项目 */
    .conference-item:not(.selected) {
        display: none;
    }

    /* 确保最后一个显示的项目没有多余间距 */
    .conference-item:last-child, .project-item:last-child {
        margin-bottom: 0;
    }
</style>

<h1 id="publications"></h1>

<h2 style="margin: 60px 0px 20px;">Publications <temp style="font-size:15px;">[</temp><a href="https://scholar.google.com/citations?user=tOEF7V8AAAAJ" target="_blank" style="font-size:15px;">Google Scholar</a><temp style="font-size:15px;">]</temp></h2>

<div class="publications">
<ol class="bibliography">

<div class="conference-header">
    <h2 class="conference-title">Conference</h2>
    <button class="toggle-btn selected-mode" id="toggleBtn" onclick="toggleConferenceView()">Show All</button>
</div>

<script>
let isShowingSelected = true; // 默认显示selected

function toggleConferenceView() {
    const button = document.getElementById('toggleBtn');
    const items = document.querySelectorAll('.conference-item');

    if (isShowingSelected) {
        // 当前显示的是selected，切换到show all
        items.forEach(item => {
            item.classList.remove('hidden');
        });
        button.textContent = 'Show Selected';
        button.classList.remove('selected-mode');
        isShowingSelected = false;
    } else {
        // 当前显示的是all，切换到show selected
        items.forEach(item => {
            if (!item.classList.contains('selected')) {
                item.classList.add('hidden');
            } else {
                item.classList.remove('hidden');
            }
        });
        button.textContent = 'Show All';
        button.classList.add('selected-mode');
        isShowingSelected = true;
    }
}

// 页面加载时默认显示selected
document.addEventListener('DOMContentLoaded', function() {
    const button = document.getElementById('toggleBtn');
    const items = document.querySelectorAll('.conference-item');

    // 为selected项目添加显示样式
    items.forEach(item => {
        if (item.classList.contains('selected')) {
            item.style.display = 'block';
        }
    });

    // 更新按钮状态
    button.textContent = 'Show All';
    button.classList.add('selected-mode');
});
</script>

{% for link in site.data.publications.conference %}

<li class="conference-item {% if link.selected %}selected{% endif %}">
<div class="pub-row">
  <div class="col-sm-3 abbr" style="position: relative;padding-right: 15px;padding-left: 15px;">
    <img src="{{ link.image }}" class="teaser img-fluid z-depth-1" style="width=100;height=50%">
            {% if link.conference_short %}
            <abbr class="badge">{{ link.conference_short }}</abbr>
            {% endif %}
  </div>
  <div class="col-sm-9" style="position: relative;padding-right: 15px;padding-left: 20px;">
      <div class="title"><a href="{{ link.pdf }}">{{ link.title }}</a></div>
      <div class="author">{{ link.authors }}</div>
      <div class="periodical"><em>{{ link.conference }}</em></div>
    <div class="links">
      {% if link.pdf %}
      <a href="{{ link.pdf }}" class="btn btn-sm z-depth-0" role="button" target="_blank" style="font-size:12px;">PDF</a>
      {% endif %}
      {% if link.code %}
      <a href="{{ link.code }}" class="btn btn-sm z-depth-0" role="button" target="_blank" style="font-size:12px;">Code</a>
      {% endif %}
      {% if link.page %}
      <a href="{{ link.page }}" class="btn btn-sm z-depth-0" role="button" target="_blank" style="font-size:12px;">Project Page</a>
      {% endif %}
      {% if link.bibtex %}
      <a href="{{ link.bibtex }}" class="btn btn-sm z-depth-0" role="button" target="_blank" style="font-size:12px;">BibTex</a>
      {% endif %}
      {% if link.notes %}
      <strong> <i style="color:#e74d3c">{{ link.notes }}</i></strong>
      {% endif %}
      {% if link.others %}
      {{ link.others }}
      {% endif %}
    </div>
  </div>
</div>
</li>

{% endfor %}

<h2 class="project-title">Project</h2>

{% for link in site.data.publications.project %}

<li class="project-item">
<div class="pub-row">
  <div class="col-sm-3 abbr" style="position: relative;padding-right: 15px;padding-left: 15px;">
    <img src="{{ link.image }}" class="teaser img-fluid z-depth-1" style="width=100;height=50%">
  </div>
  <div class="col-sm-9" style="position: relative;padding-right: 15px;padding-left: 20px;">
      <div class="title"><a href="{{ link.pdf }}">{{ link.title }}</a></div>
      <div class="author">{{ link.authors }}</div>
      {% if link.introduction %}
      <div class="introduction">{{ link.introduction }}</div>
      {% endif %}
      {% if link.language %}
      <div class="language"><strong>Language:</strong> {{ link.language }}</div>
      {% endif %}
      <div class="links">
      {% if link.pdf %}
      <a href="{{ link.pdf }}" class="btn btn-sm z-depth-0" role="button" target="_blank" style="font-size:12px;">PDF</a>
      {% endif %}
      {% if link.code %}
      <a href="{{ link.code }}" class="btn btn-sm z-depth-0" role="button" target="_blank" style="font-size:12px;">Code</a>
      {% endif %}
      {% if link.page %}
      <a href="{{ link.page }}" class="btn btn-sm z-depth-0" role="button" target="_blank" style="font-size:12px;">Project Page</a>
      {% endif %}
    </div>
  </div>
</div>
</li>

{% endfor %}

</ol>
</div>
